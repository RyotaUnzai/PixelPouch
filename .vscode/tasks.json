{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "[Launch] Houdini",
            "type": "process",
            "command": "${workspaceFolder}\\.venv\\Scripts\\rez-env.exe",
            "args": [
                "pixelpouch_hou_dev",
                "--",
                "houdini.exe"
            ],
            "presentation": {
                "close": true,
                "clear": true,
                "reveal": "never"
            }
        },
        {
            "label": "[Rez] env check",
            "type": "process",
            "command": "${workspaceFolder}\\.venv\\Scripts\\rez-env.exe",
            "args": [
                "--",
                "powershell",
                "-NoExit",
                "-Command",
                "echo 'PWD:'; pwd; echo 'REZ_PACKAGES_PATH:'; echo $Env:REZ_PACKAGES_PATH; echo 'FILES:'; Get-ChildItem Q:\\Github\\PixelPouch\\rez\\projects"
            ]
        },
        {
            "label": "Get Houdini Envs",
            "type": "process",
            "command": "${env:HOUDINI_LOCATION}\\bin\\hconfig.exe",
            "args": [
                "-a",
                ">>",
                "houdini_envs.txt"
            ]
        },
        {
            "label": "Wait for ready",
            "type": "shell",
            "command": "powershell",
            "args": [
                "-NoProfile",
                "-Command",
                "$timeout=60; $elapsed=0; while (-not (Test-Path .debugpy_ready)) { Start-Sleep -Milliseconds 500; $elapsed+=0.5; if ($elapsed -ge $timeout) { throw 'Timeout waiting for debugpy ready' } }"
            ],
            "problemMatcher": [],
            "presentation": {
                "close": true,
                "clear": true,
                "reveal": "never"
            }
        },
        {
            "label": "Wait for Startup",
            "type": "shell",
            "command": "timeout",
            "args": [
                "1"
            ],
            "presentation": {
                "reveal": "never"
            }
        }
    ]
}